{% extends "base.html" %}
{% block title %}Upload Document - ClauseWise{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card shadow-lg border-0 rounded-4">
      <div class="card-header text-center text-white py-3" style="background-color:#1976D2;">
        <h4 class="mb-0"><i class="bi bi-upload me-2"></i> Upload Your Legal Document</h4>
      </div>
      <div class="card-body text-center">
        <form method="POST" action="{{ url_for('upload') }}" enctype="multipart/form-data">
          <input type="file" name="document" class="form-control mb-3" accept=".pdf,.docx" required>
          <button type="submit" class="btn btn-primary w-100"><i class="bi bi-search me-2"></i> Analyze Document</button>
        </form>
      </div>
    </div>
  </div>
</div>

{% if history %}
<hr>
<h4 class="mt-4">Recent Analyses</h4>
<div class="row g-3">
  {% for item in history %}
  <div class="col-md-4">
    <div class="card p-3 shadow-sm">
      <h6 class="mb-1">{{ item.filename }}</h6>
      <small class="text-muted">{{ item.created_at }}</small>
      <a class="btn btn-sm btn-outline-primary mt-2" href="{{ url_for('history_detail', history_id=item.id) }}">Open</a>
    </div>
  </div>
  {% endfor %}
</div>
{% endif %}
{% endblock %}
